## Facade Main Configuration
#
# This subset of the overall configuration contains all the elements required in order to configure
# the facade for a given environment

# This is an optional identifier for the running instance of the facade. It will be returned in a standard facade header
# (X-FACADE-SYSTEM-ID), and will also be encapsulated within "ping" responses.
facade.system.identifier="erebus"

# OTCS web service credentials
facade.cws.user=Admin
facade.cws.password=livelink

# CWS Service Configuration - modify the endpoints here to suit your environment




# This is a timings filter which will provide timings information for each request. The timings information will also be written out to a
# specific timings log at the level TRACE, if configured
play.filters.enabled += facade.filters.TimingFilter

## Configuration of the underlying OTCS data source
# This should be SQL Server 2012+
# DO NOT MODIFY THE DRIVER CLASS SPECIFICATION WITHIN THIS SECTION. THE URL USED WITHIN HERE SHOULD REFLECT THE UNDERLYING OTCS DATABASE
# AND APPROPRIATE USER CREDENTIALS
db {
  default.driver = com.microsoft.sqlserver.jdbc.SQLServerDriver
  default.url = "jdbc:sqlserver://otcs-host;databaseName=otcs;user=otcs;password=livelink"
  default.logSql=false
}

## CWS ENDPOINT CONFIGURATION - THIS SHOULD BE CHANGED TO SUITE THE TARGET OTCS REPOSITORY (PER ENVIRONMENT FOR INSTANCE)



## DISPATCHERS - DO NOT ALTER WITHOUT GUIDANCE
# This section configures the thread pool to be used by the SQL context within the facade main business logic.
# Do not alter the values within this section unless recommended by JCS support

# Number of db connections within the connection pool ((physical cores * 2) + effective spindle count)a
poolConnections=17
numCores=8
otcsThreadCount=8

## SQL DISPATCHER
# A custom dispatcher (alternative to the main play framework dispatcher) which is used to execute SQL ops
facade.sql.dispatcher {
  executor = "thread-pool-executor"
  throughput = 1
  thread-pool-executor{
    fixed-pool-size = ${poolConnections}
  }
}

## REPOSITORY DISPATCHER
# This section configures the thread pool to be used by the repository service within the facade main business logic.
# Do not alter the values within this section unless recommended by JCS support
facade.repository.dispatcher {
  executor = "thread-pool-executor"
  throughput = 1
  thread-pool-executor{
    fixed-pool-size = ${numCores}
  }
}

## CWS PROXY DISPATCHER
# This section configures the thread pool to be used by the CWS proxy within the facade main business logic.
# Do not alter the values within this section unless recommended by JCS support
facade.cws.dispatcher {
  executor = "thread-pool-executor"
  throughput = 1
  thread-pool-executor{
    fixed-pool-size = ${otcsThreadCount}
  }
}